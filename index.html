<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CCN Lab Codes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f5;
      color: #222;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }

    .code-box {
      background: #ffffff;
      border-radius: 8px;
      border: 1px solid #ddd;
      padding: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.04);
      display: flex;
      flex-direction: column;
    }

    .code-title {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    textarea {
      width: 100%;
      min-height: 260px;
      padding: 10px;
      border-radius: 6px;
      border: none;
      background: #111827;
      color: #e5e7eb;
      font-size: 0.85rem;
      line-height: 1.4;
      font-family: "Fira Code", "Consolas", "Courier New", monospace;
      resize: vertical;
      white-space: pre;
      overflow: auto;
    }

    textarea:focus {
      outline: none;
    }

    .footer {
      text-align: center;
      margin-top: 24px;
      font-size: 0.8rem;
      color: #666;
    }

    @media (max-width: 600px) {
      body {
        padding: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1> CCN Codes</h1>

    <div class="grid">

      <!-- Code 1 -->
      <div class="code-box">
        <div class="CRC">Code 1 – CRC</div>
        <textarea readonly>
#include <stdio.h>
#include <string.h>

int xor2div(char *in, char *out, int mode)
{
    int i, j, k;
    char gen[100] = {"110101"};
    strcpy(out, in);

    if (mode)
        strcat(out, "00000");  // Append zeros for CRC calculation

    for (j = 0; j < strlen(in); j++)
    {
        if (out[j] == '1')
            for (k = 0; k < strlen(gen); k++)
            {
                if ((out[j + k] == '0' && gen[k] == '0') ||
                    (out[j + k] == '1' && gen[k] == '1'))
                    out[j + k] = '0';
                else
                    out[j + k] = '1';
            }
    }

    // Check if any remainder (error)
    for (j = 0; j < strlen(out); j++)
        if (out[j] == '1')
            return 1;

    return 0;
}

void main()
{
    char in[100] = {'\0'}, out[100] = {'\0'}, rec[100] = {'\0'};
    char gen[100] = {"110101"};

    printf("\n\nEnter the message code in binary: ");
    scanf("%s", in);

    printf("\n\nThe generator polynomial is: %s", gen);

    xor2div(in, out, 1);

    printf("\n\nCRC CCITT code to Transmit is: %s%s", in, out + strlen(in));

    printf("\n\nEnter the received frame: ");
    scanf("%s", rec);

    if (xor2div(rec, out, 0))
        printf("\n\nThere is an error in the received frame.");
    else
        printf("\n\nNo Error is found in the received frame.");
}

Input 
Enter the message code in binary: 11100101

Output 
The generator polynomial is: 110101
CRC CCITT code to Transmit is: 1110010101011

Input 
Enter the received frame: 1110010101011

Output 
No Error is found in the received frame.
          
        </textarea>
      </div>

      <!-- Code 2 -->
      <div class="code-box">
        <div class="Bitstuff">Code 2 – Bit Stuffing</div>
        <textarea readonly>
#include <stdio.h>
#include <string.h>

void main()
{
    int i = 0, j = 0, k = 0, len, lenf, lend, count = 0;
    char sorc[50], stf[80] = {'\0'}, destf[50] = {'\0'}, flag[] = {"01111110"};

    printf("\n\nEnter the bit stream in binary\n");
    gets(sorc);

    strcpy(stf, flag);
    len = strlen(sorc);
    lenf = strlen(flag);
    j = lenf;

    // Bit Stuffing
    for (i = 0; i < len; i++)
    {
        if (sorc[i] == '1')
            count++;
        else
            count = 0;

        stf[j] = sorc[i];

        if (count == 5)
        {
            j++;
            stf[j] = '0';
            count = 0;
        }
        j++;
    }

    lend = strlen(stf);
    strcat(stf, flag);
    printf("\n\nThe Stuffed Data is:\n\n%s", stf);
    count = 0;

    // Bit De-stuffing
    for (j = 8; j < lend; j++)
    {
        if (stf[j] == '1')
            count++;
        else
            count = 0;

        destf[k] = stf[j];
        k++;

        if (count == 5)
        {
            j++;
            count = 0;
        }
    }

    printf("\n\nThe Destuffed Data is:\n\n%s", destf);
}

Input 
Enter the bit stream in binary: 11111

Output 
The Stuffed Data is: 0111111011111001111110
  
The Destuffed Data is: 11111
          
        </textarea>
      </div>

      <!-- Code 3 -->
      <div class="code-box">
        <div class="Charstuff">Code 3 – Charstuff</div>
        <textarea readonly>
#include <stdio.h>
#include <string.h>

void main()
{
    int i = 0, j = 0, len, lenh, lend;
    char sorc[50], stf[80] = {'\0'}, destf[50] = {'\0'};
    char header[] = "DLESTX", trailer[] = "DLEETX";

    printf("\n\nEnter the Data in character\n");
    gets(sorc);

    strcpy(stf, header);
    len = strlen(sorc);
    lenh = strlen(header);
    j = lenh;

    // Character Stuffing
    for (i = 0; i < len; i++)
    {
        if ((sorc[i] == 'D') && (sorc[i + 1] == 'L') && (sorc[i + 2] == 'E'))
        {
            stf[j] = 'D';
            stf[j + 1] = 'L';
            stf[j + 2] = 'E';
            j += 3;
        }
        stf[j] = sorc[i];
        j++;
    }

    strcat(stf, trailer);
    printf("\n\nThe Stuffed Data is:\n%s", stf);

    // Character De-stuffing
    j = 0;
    lend = strlen(stf);

    for (i = lenh; i < lend - lenh; i++)
    {
        if ((stf[i] == 'D') && (stf[i + 1] == 'L') && (stf[i + 2] == 'E'))
        {
            i += 3;
        }
        destf[j] = stf[i];
        j++;
    }

    printf("\n\nThe Destuffed Data is:\n%s", destf);
}

Input 
Enter the Data in character: mvjce

Ouput 
The Stuffed Data is:
DLESTXmvjceDLEETX

The Destuffed Data is:
mvjce
        </textarea>
      </div>

      <!-- Code 4 -->
      <div class="code-box">
        <div class="Distance">Code 4 – Distance</div>
        <textarea readonly>
#include <stdio.h>

struct node
{
    unsigned dist[20];
    unsigned from[20];
} rt[10];

int main()
{
    int dmat[20][20];
    int n, i, j, k, count = 0;

    printf("\nEnter the number of nodes: ");
    scanf("%d", &n);

    printf("\nEnter the cost matrix:\n");
    for (i = 0; i < n; i++)
        for (j = 0; j < n; j++)
        {
            scanf("%d", &dmat[i][j]);
            dmat[i][i] = 0;
            rt[i].dist[j] = dmat[i][j];
            rt[i].from[j] = j;
        }

    do
    {
        count = 0;
        for (i = 0; i < n; i++)
            for (j = 0; j < n; j++)
                for (k = 0; k < n; k++)
                    if (rt[i].dist[j] > dmat[i][k] + rt[k].dist[j])
                    {
                        rt[i].dist[j] = dmat[i][k] + rt[k].dist[j];
                        rt[i].from[j] = k;
                        count++;
                    }
    } while (count != 0);

    for (i = 0; i < n; i++)
    {
        printf("\n\nState value for router %d is:\n", i + 1);
        for (j = 0; j < n; j++)
        {
            printf("\nNode %d via %d Distance %d", j + 1, rt[i].from[j] + 1, rt[i].dist[j]);
        }
    }

    printf("\n\n");
    return 0;
}

Input 
Enter the number of nodes: 3

Enter the cost matrix:
0 1 1
1 0 99
1 99 0

Output 
State value for router 1 is:

Node 1 via 1 Distance 0
Node 2 via 2 Distance 1
Node 3 via 3 Distance 1

State value for router 2 is:

Node 1 via 1 Distance 1
Node 2 via 2 Distance 0
Node 3 via 1 Distance 2

State value for router 3 is:

Node 1 via 1 Distance 1
Node 2 via 1 Distance 2
Node 3 via 3 Distance 0
          
        </textarea>
      </div>

      <!-- Code 5 -->
      <div class="code-box">
        <div class="Leakybucket">Code 5 – Leakybucket</div>
        <textarea readonly>
#include <stdio.h>

int main()
{
    int incoming, outgoing, buck_size, n, store = 0;

    printf("Enter bucket size, outgoing rate and number of inputs: ");
    scanf("%d %d %d", &buck_size, &outgoing, &n);

    while (n != 0)
    {
        printf("Enter the incoming packet size: ");
        scanf("%d", &incoming);

        printf("Incoming packet size %d\n", incoming);

        if (incoming <= (buck_size - store))
        {
            store += incoming;
            printf("Bucket buffer size %d out of %d\n", store, buck_size);
        }
        else
        {
            printf("Dropped %d no of packets\n", incoming - (buck_size - store));
            store = buck_size;
            printf("Bucket buffer size %d out of %d\n", store, buck_size);
        }

        store = store - outgoing;
        if (store < 0)
            store = 0;

        printf("After outgoing %d packets left out of %d in buffer\n", store, buck_size);
        n--;
    }

    return 0;
}

Input 
Enter bucket size, outgoing rate and number of inputs: 100 10 2
Enter the incoming packet size: 10
          
Output
Incoming packet size 10
Bucket buffer size 10 out of 100
After outgoing 0 packets left out of 100 in buffer
          
Input 
Enter the incoming packet size: 50

Output
Incoming packet size 50
Bucket buffer size 50 out of 100
After outgoing 40 packets left out of 100 in buffer
          
        </textarea>
      </div>

      <!-- Code 6 -->
      <div class="code-box">
        <div class="Slidingwindow">Code 6 – Slidingwindow</div>
        <textarea readonly>
#include <stdio.h>

int main()
{
    int w, f, i, frames[50];

    printf("Enter window size: ");
    scanf("%d", &w);

    printf("\nEnter number of frames to transmit: ");
    scanf("%d", &f);

    printf("\nEnter %d frames: ", f);
    for (i = 1; i <= f; i++)
        scanf("%d", &frames[i]);

    printf("\nWith sliding window protocol, the frames will be sent in the following manner");
    printf("\n(assuming no corruption of frames)\n");
    printf("After sending %d frames at each stage, sender waits for acknowledgement sent by receiver\n\n", w);

    for (i = 1; i <= f; i++)
    {
        if (i % w == 0)
        {
            printf("%d\n", frames[i]);
            printf("Acknowledgement of above frames sent is received by sender\n\n");
        }
        else
            printf("%d ", frames[i]);
    }

    if (f % w != 0)
        printf("\nAcknowledgement of above frames sent is received by sender\n");

    return 0;
}

Input           
Enter window size: 3
Enter number of frames to transmit: 5
Enter 5 frames: 12 5 89 4 6 

Output 
With sliding window protocol, the frames will be sent in the following manner
After sending 3 frames at each stage, sender waits for acknowledgement sent by receiver
12 5 89
Acknowledgement of above frames sent is received by sender
4 6 
Acknowledgement of above frames sent is received by sender
        </textarea>
      </div>

    </div>

    <div class="footer">
      Hosted with ❤️ on GitHub Page
    </div>
  </div>
</body>
</html>
